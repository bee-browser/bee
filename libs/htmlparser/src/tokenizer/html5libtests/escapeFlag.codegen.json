{
  "tests": [
    {
      "description": "Commented close tag in RCDATA or RAWTEXT",
      "initialStates": [
        "Rcdata",
        "Rawtext"
      ],
      "lastStartTag": "xmp",
      "input": [
        102,
        111,
        111,
        60,
        33,
        45,
        45,
        60,
        47,
        120,
        109,
        112,
        62,
        45,
        45,
        62,
        60,
        47,
        120,
        109,
        112,
        62
      ],
      "output": [
        {
          "Character": {
            "data": "foo<!--"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        },
        {
          "Character": {
            "data": "-->"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        }
      ],
      "errors": []
    },
    {
      "description": "Bogus comment in RCDATA or RAWTEXT",
      "initialStates": [
        "Rcdata",
        "Rawtext"
      ],
      "lastStartTag": "xmp",
      "input": [
        102,
        111,
        111,
        60,
        33,
        45,
        45,
        62,
        98,
        97,
        122,
        60,
        47,
        120,
        109,
        112,
        62
      ],
      "output": [
        {
          "Character": {
            "data": "foo<!-->baz"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        }
      ],
      "errors": []
    },
    {
      "description": "End tag surrounded by bogus comment in RCDATA or RAWTEXT",
      "initialStates": [
        "Rcdata",
        "Rawtext"
      ],
      "lastStartTag": "xmp",
      "input": [
        102,
        111,
        111,
        60,
        33,
        45,
        45,
        62,
        60,
        47,
        120,
        109,
        112,
        62,
        60,
        33,
        45,
        45,
        62,
        98,
        97,
        122,
        60,
        47,
        120,
        109,
        112,
        62
      ],
      "output": [
        {
          "Character": {
            "data": "foo<!-->"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        },
        {
          "Comment": {
            "data": ""
          }
        },
        {
          "Character": {
            "data": "baz"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        }
      ],
      "errors": [
        {
          "code": "AbruptClosingOfEmptyComment",
          "location": {
            "line": 1,
            "column": 19
          }
        }
      ]
    },
    {
      "description": "Commented entities in RCDATA",
      "initialStates": [
        "Rcdata"
      ],
      "lastStartTag": "xmp",
      "input": [
        32,
        38,
        97,
        109,
        112,
        59,
        32,
        60,
        33,
        45,
        45,
        32,
        38,
        97,
        109,
        112,
        59,
        32,
        45,
        45,
        62,
        32,
        38,
        97,
        109,
        112,
        59,
        32,
        60,
        47,
        120,
        109,
        112,
        62
      ],
      "output": [
        {
          "Character": {
            "data": " & <!-- & --> & "
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        }
      ],
      "errors": []
    },
    {
      "description": "Incorrect comment ending sequences in RCDATA or RAWTEXT",
      "initialStates": [
        "Rcdata",
        "Rawtext"
      ],
      "lastStartTag": "xmp",
      "input": [
        102,
        111,
        111,
        60,
        33,
        45,
        45,
        32,
        120,
        32,
        45,
        45,
        120,
        62,
        120,
        45,
        45,
        32,
        62,
        120,
        45,
        45,
        33,
        62,
        120,
        45,
        45,
        60,
        62,
        60,
        47,
        120,
        109,
        112,
        62
      ],
      "output": [
        {
          "Character": {
            "data": "foo<!-- x --x>x-- >x--!>x--<>"
          }
        },
        {
          "EndTag": {
            "name": "xmp"
          }
        }
      ],
      "errors": []
    }
  ],
  "name": "escapeFlag"
}
