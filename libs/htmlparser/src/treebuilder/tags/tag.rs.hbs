// DO NOT EDIT THIS FILE BY HAND.
//
// This file was automagically generated by:
// {{@command}}

use super::*;

impl<T> TreeBuilder<T>
where
    T: DomTreeBuilder,
{
    pub fn handle_start_{{name}}(&mut self, tag: &Tag<'_>) -> Control {
        loop {
            let span = tracing::debug_span!("handle_start_{{name}}", mode = ?self.mode);
            let _enter = span.enter();
            match self.mode {
                {{#each tokens.startTag}}
                mode!({{join modes ', '}}) => {
                    {{#if run}}
                    let ctrl = {
                        {{run}}
                    };
                    match ctrl {
                        Control::Reprocess => continue,
                        _ => return ctrl,
                    }
                    {{else}}
                    unreachable!();
                    {{/if}}
                }
                {{/each}}
            }
        }
    }

    #[allow(unused_variables)]
    pub fn handle_end_{{name}}(&mut self, tag: &Tag<'_>) -> Control {
        loop {
            let span = tracing::debug_span!("handle_end_{{name}}", mode = ?self.mode);
            let _enter = span.enter();
            match self.mode {
                {{#each tokens.endTag}}
                mode!({{join modes ', '}}) => {
                    {{#if run}}
                    let ctrl = {
                        {{run}}
                    };
                    match ctrl {
                        Control::Reprocess => continue,
                        _ => return ctrl,
                    }
                    {{else}}
                    unreachable!();
                    {{/if}}
                }
                {{/each}}
            }
        }
    }
}
