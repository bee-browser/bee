<!DOCTYPE html>
<!--
DO NOT EDIT THIS FILE BY HAND.

This file was automagically generated by:
{{@command}}
-->
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {
        display: flex;
      }
      body > * {
        padding: 5px;
      }
      #sidebar {
        width: 300px;
      }
      input#filter, select#test-list {
        box-sizing: border-box;
        width: 100%;
      }
      .test {
        cursor: pointer;
      }
      .test:hover {
        background-color: gray;
      }
      iframe#content-view {
        width: {{{viewport.width}}}px;
        height: {{{viewport.height}}}px;
        border: solid 1px gray;
      }
      #content-src {
        display: flex;
      }
      #content-src > pre {
        flex: 1;
        margin: 5px;
      }
      .hidden {
        display: none;
      }
    </style>

    <!-- marked -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.0.3/marked.min.js"
            integrity="sha512-t1jq1b5U4hgz4lQoeyRD9QiVu99KxjyA939fnND+R+gLOHmuT5F9YFHJI1Nse1B1QG6/U11SPAc8fshYshb6MA=="
            crossorigin="anonymous"></script>

    <!-- highlight.js with GitHub style -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/github.min.css"
          integrity="sha512-7QTQ5Qsc/IL1k8UU2bkNFjpKTfwnvGuPYE6fzm6yeneWTEGiA3zspgjcTsSgln9m0cn3MgyE7EnDNkF1bB/uCw=="
          crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"
            integrity="sha512-s+tOYYcC3Jybgr9mVsdAxsRYlGNq4mlAurOrfNuGMQ/SCofNPu92tjE7YRZCsdEtWL1yGkqk15fU/ark206YTg=="
            crossorigin="anonymous"></script>

    <script src="tests.js"></script>
    <script>
      window.addEventListener('load', () => {
        marked.setOptions({
          highlight: (code, lang) => {
            const language = hljs.getLanguage(lang) ? lang : 'plaintext';
            return hljs.highlight(code, { language }).value;
          },
          gfm: true,
        });

        document.getElementById('test-list').addEventListener('change', (event) => {
          document.getElementById('content-view').src = `${event.target.value}.test.html`;
          const test = TESTS[event.target.selectedIndex];
          document.getElementById('content-description').innerHTML = marked(test.description);
          document.getElementById('content-css').textContent = test.css;
          document.getElementById('content-html').textContent = test.html;
          hljs.highlightAll();
        });

        let filterTimerId = null;
        document.getElementById('filter').addEventListener('input', (event) => {
          const regexp = new RegExp(event.target.value);
          if (filterTimerId) {
            clearTimeout(filterTimerId);
          }
          filterTimerId = setTimeout(() => {
            document.getElementById('sidebar').querySelectorAll('.test').forEach((el) => {
              el.classList.toggle('hidden', !regexp.test(el.innerHTML));
            });
          }, 500);
        });
      });
    </script>
  </head>
  <body>
    <aside id="sidebar">
      <input id="filter" type="search">
      <hr>
      <select id="test-list" size="20">
        {{#each names}}
        <option class="test" value="{{.}}">{{.}}</option>
        {{/each}}
      </select>
    </aside>
    <main id="content">
      <iframe id="content-view"></iframe>
      <p id="content-description"></p>
      <div id="content-src">
        <pre><code id="content-css" class="css"></code></pre>
        <pre><code id="content-html" class="html"></code></pre>
      </div>
    </main>
  </body>
</html>
